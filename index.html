<!doctype html>
<html lang="th">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Doggo Pet Simulator v2 üê∂</title>
<link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;600;800&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#fff8f5;
    --card:#fff;
    --accent:#ff8a5b;
    --muted:#6b6b6b;
    --good:#5cd67a;
    --bad:#ff6b6b;
  }
  *{box-sizing:border-box}
  body{margin:0;background:linear-gradient(180deg,#fff8f5 0%, #fff 70%);font-family:"Kanit",sans-serif;display:flex;align-items:center;justify-content:center;padding:20px;min-height:100vh}
  .wrap{width:100%;max-width:980px;background:var(--card);border-radius:18px;box-shadow:0 12px 30px rgba(0,0,0,0.08);padding:18px;display:grid;grid-template-columns:360px 1fr;gap:18px}
  .pet-area{display:flex;flex-direction:column;align-items:center;gap:12px;padding:8px}
  .pet-box{width:320px;height:320px;background:linear-gradient(180deg,#fff,#fff8f0);border-radius:16px;display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden;border:3px solid rgba(0,0,0,0.03)}
  .pet-img{width:220px; height:220px; object-fit:contain; transition:transform .35s ease, filter .25s ease}
  .pet-happy{transform:translateY(-8px) scale(1.04)}
  .controls{display:flex;gap:8px;flex-wrap:wrap;justify-content:center;margin-top:8px}
  button{background:var(--accent);border:none;color:white;padding:10px 14px;border-radius:12px;cursor:pointer;font-weight:700}
  button.ghost{background:transparent;color:var(--muted);border:1px dashed rgba(0,0,0,0.06)}
  .status{width:100%;padding:10px;border-radius:12px;background:linear-gradient(180deg,#fff,#fff8f8);box-shadow:0 6px 16px rgba(0,0,0,0.04)}
  .bar{height:12px;border-radius:999px;background:#eee;overflow:hidden;margin-top:8px}
  .bar > i{display:block;height:100%;background:linear-gradient(90deg,var(--good),#3be0a8);width:50%}
  .bar.bad > i{background:linear-gradient(90deg,var(--accent),#ffb38a)}
  .meta{display:flex;gap:8px;align-items:center;justify-content:space-between;margin-top:8px}
  .small{font-size:13px;color:var(--muted)}
  .panel{padding:10px; border-radius:12px}
  .side-right{display:flex;flex-direction:column;gap:12px}
  .row{display:flex;gap:8px;align-items:center}
  select{padding:8px;border-radius:10px;border:1px solid #eee}
  .log{height:180px;overflow:auto;padding:10px;background:#fff;border-radius:10px;border:1px solid #f0f0f0}
  .log p{margin:6px 0;padding:6px;border-radius:8px;background:rgba(0,0,0,0.03)}
  .badge{background:var(--accent);color:white;padding:6px 8px;border-radius:999px;font-weight:700}
  footer{margin-top:8px;font-size:12px;color:var(--muted);text-align:center}
  .top-row{display:flex;gap:10px;align-items:center;justify-content:space-between;width:100%}
  .name{font-weight:800;font-size:22px}
  @media (max-width:880px){.wrap{grid-template-columns:1fr;}.pet-box{width:100%;height:260px}.pet-img{width:160px;height:160px}}
</style>
</head>
<body>
  <div class="wrap">
    <div class="pet-area">
      <div class="top-row" style="width:100%">
        <div>
          <div class="name" id="petTitle">Doggo</div>
          <div class="small" id="statusLine">‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏î‡∏µ ‚Ä¢ ‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå‡∏î‡∏µ</div>
        </div>
        <div>
          <select id="breedSelect" title="‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏≤‡∏¢‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå">
            <option value="shiba">Shiba Inu</option>
            <option value="corgi">Corgi</option>
            <option value="golden">Golden Retriever</option>
            <option value="husky">Husky</option>
          </select>
        </div>
      </div>

      <div class="pet-box" id="petBox" title="‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏π‡∏ö‡∏´‡∏±‡∏ß">
        <img id="petImg" class="pet-img" src="images/shiba.png" alt="doggo">
      </div>

      <div class="controls">
        <button id="feedBtn">üçñ ‡πÉ‡∏´‡πâ‡∏≠‡∏≤‡∏´‡∏≤‡∏£</button>
        <button id="playBtn">üéæ ‡πÄ‡∏•‡πà‡∏ô‡∏î‡πâ‡∏ß‡∏¢</button>
        <button id="sleepBtn">üò¥ ‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô</button>
        <button class="ghost" id="groomBtn">üõÅ ‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î</button>
      </div>

      <div class="status panel" style="width:100%">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <div><strong>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Ç‡∏≠‡∏á‡∏´‡∏°‡∏≤</strong></div>
          <div class="small">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥</div>
        </div>

        <div style="margin-top:8px">
          <div class="small">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏¥‡∏ß <span id="hungerVal" style="float:right">50</span></div>
          <div class="bar bad"><i id="hungerBar" style="width:50%"></i></div>

          <div class="small" style="margin-top:8px">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç <span id="happyVal" style="float:right">60</span></div>
          <div class="bar"><i id="happyBar" style="width:60%"></i></div>

          <div class="small" style="margin-top:8px">‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô <span id="energyVal" style="float:right">70</span></div>
          <div class="bar"><i id="energyBar" style="width:70%"></i></div>
        </div>
      </div>

      <footer>‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏á‡∏£‡∏π‡∏õ‡∏´‡∏°‡∏≤‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå <code>images/</code> ‚Ä¢ ‡πÇ‡∏Ñ‡πâ‡∏î‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏•‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á</footer>
    </div>

    <div class="side-right">
      <div class="panel">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <div><strong>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• & ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤</strong></div>
          <div><span class="badge" id="ageBadge">‡∏≠‡∏≤‡∏¢‡∏∏: 0 ‡∏ß‡∏±‡∏ô</span></div>
        </div>

        <div style="margin-top:10px" class="row">
          <div style="flex:1">
            <div class="small">‡∏ä‡∏∑‡πà‡∏≠‡∏´‡∏°‡∏≤</div>
            <input id="petName" placeholder="‡∏ï‡∏±‡πâ‡∏á‡∏ä‡∏∑‡πà‡∏≠‡∏´‡∏°‡∏≤ (‡πÄ‡∏ä‡πà‡∏ô ‡∏ö‡∏±‡∏ö‡πÄ‡∏ö‡∏¥‡πâ‡∏•)" style="width:100%;padding:8px;border-radius:8px;border:1px solid #eee" />
          </div>
          <div style="width:120px">
            <div class="small">‡∏™‡∏µ‡∏ò‡∏µ‡∏°</div>
            <input type="color" id="themeColor" value="#ff8a5b" style="width:100%;height:40px;border-radius:8px;border:1px solid #eee" />
          </div>
        </div>

        <div style="margin-top:10px" class="row">
          <button id="renameBtn" class="ghost">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ä‡∏∑‡πà‡∏≠</button>
          <button id="resetBtn" class="ghost">‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</button>
        </div>
      </div>

      <div class="panel">
        <strong>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</strong>
        <div class="log" id="logBox"></div>
        <div style="display:flex;gap:8px;margin-top:8px">
          <button id="shareBtn" class="ghost">‡πÅ‡∏ä‡∏£‡πå‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</button>
          <button id="exportBtn" class="ghost">‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
        </div>
      </div>

      <div class="panel" style="text-align:center">
        <div class="small">Auto-save: ‡∏ó‡∏∏‡∏Å‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏ó‡∏≥‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏•‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á</div>
        <div style="margin-top:8px;display:flex;gap:8px;justify-content:center">
          <button id="ttsBtn">üîä ‡∏≠‡πà‡∏≤‡∏ô‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏™‡∏µ‡∏¢‡∏á</button>
          <button id="soundToggle" class="ghost">üîà ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå: ‡πÄ‡∏õ‡∏¥‡∏î</button>
        </div>
      </div>
    </div>
  </div>

<script>
/* Doggo Pet Simulator v2
 - ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å: ‡∏ß‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô index.html
 - ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå images/ ‡πÅ‡∏•‡πâ‡∏ß‡πÉ‡∏™‡πà‡πÑ‡∏ü‡∏•‡πå: shiba.png, corgi.png, golden.png, husky.png (‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á placeholder)
 - (Optional) ‡πÉ‡∏™‡πà sounds/bark.mp3 ‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏´‡πà‡∏≤ ‡πÅ‡∏•‡∏∞ uncomment ‡πÉ‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á
*/

(() => {
  const KEY = 'doggo_pet_v2';
  const DEFAULT = {
    name: "Doggo",
    breed: "shiba",
    hunger: 50,
    happy: 60,
    energy: 70,
    createdAt: Date.now(),
    logs: []
  };

  // DOM
  const petImg = document.getElementById('petImg');
  const hungerBar = document.getElementById('hungerBar');
  const happyBar = document.getElementById('happyBar');
  const energyBar = document.getElementById('energyBar');
  const hungerVal = document.getElementById('hungerVal');
  const happyVal = document.getElementById('happyVal');
  const energyVal = document.getElementById('energyVal');
  const statusLine = document.getElementById('statusLine');
  const ageBadge = document.getElementById('ageBadge');
  const logBox = document.getElementById('logBox');
  const petNameInput = document.getElementById('petName');
  const breedSelect = document.getElementById('breedSelect');
  const themeColor = document.getElementById('themeColor');
  const petTitle = document.getElementById('petTitle');

  // optional sound element (uncomment if you add sounds/bark.mp3)
  // const barkSound = new Audio('sounds/bark.mp3');

  let pet = JSON.parse(localStorage.getItem(KEY) || 'null') || DEFAULT;

  function saveState(actionText) {
    pet.updatedAt = Date.now();
    localStorage.setItem(KEY, JSON.stringify(pet));
    if (actionText) addLog(actionText);
  }

  function addLog(text) {
    const time = new Date().toLocaleTimeString('th-TH', {hour:'2-digit',minute:'2-digit'});
    pet.logs.unshift({time, text});
    if (pet.logs.length > 200) pet.logs.pop();
    renderLogs();
    localStorage.setItem(KEY, JSON.stringify(pet));
  }

  function renderLogs() {
    logBox.innerHTML = '';
    if (!pet.logs || pet.logs.length === 0) {
      logBox.innerHTML = '<p class="small">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å ‚Äî ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏´‡∏°‡∏≤‡∏ô‡πâ‡∏≠‡∏¢‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏•‡∏¢!</p>';
      return;
    }
    pet.logs.forEach(l => {
      const p = document.createElement('p');
      p.innerHTML = `<strong style="font-size:13px">${l.time}</strong> ‚Äî ${l.text}`;
      logBox.appendChild(p);
    });
  }

  function applyState() {
    petNameInput.value = pet.name;
    breedSelect.value = pet.breed || DEFAULT.breed;
    petImg.src = `images/${pet.breed || DEFAULT.breed}.png`;
    hungerVal.textContent = Math.round(pet.hunger);
    happyVal.textContent = Math.round(pet.happy);
    energyVal.textContent = Math.round(pet.energy);
    hungerBar.style.width = Math.min(100, Math.max(0, pet.hunger)) + '%';
    happyBar.style.width = Math.min(100, Math.max(0, pet.happy)) + '%';
    energyBar.style.width = Math.min(100, Math.max(0, pet.energy)) + '%';
    ageBadge.textContent = '‡∏≠‡∏≤‡∏¢‡∏∏: ' + Math.floor((Date.now() - pet.createdAt) / (1000*60*60*24)) + ' ‡∏ß‡∏±‡∏ô';
    const mood = pet.happy > 75 ? '‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå‡∏î‡∏µ‡∏°‡∏≤‡∏Å' : (pet.happy > 45 ? '‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå‡∏î‡∏µ' : '‡∏´‡∏á‡∏≠‡∏¢');
    const health = (pet.hunger < 75 && pet.energy > 25) ? '‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏î‡∏µ' : '‡∏ï‡πâ‡∏≠‡∏á‡∏î‡∏π‡πÅ‡∏•';
    statusLine.textContent = `${health} ‚Ä¢ ${mood}`;
    petTitle.textContent = pet.name || DEFAULT.name;
    renderLogs();
    document.documentElement.style.setProperty('--accent', themeColor.value || '#ff8a5b');
  }

  // behaviors
  function animateHappy() {
    petImg.classList.add('pet-happy');
    setTimeout(()=>petImg.classList.remove('pet-happy'), 700);
  }

  function feed() {
    pet.hunger = Math.max(0, pet.hunger - 18);
    pet.happy = Math.min(100, pet.happy + 6);
    pet.energy = Math.min(100, pet.energy + 6);
    animateHappy();
    // if (barkSound) barkSound.play();
    saveState('‡πÉ‡∏´‡πâ‡∏≠‡∏≤‡∏´‡∏≤‡∏£: üçñ ‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏¥‡∏ß ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç');
    applyState();
  }

  function play() {
    if (pet.energy < 12) {
      addLog('‡πÄ‡∏´‡∏ô‡∏∑‡πà‡∏≠‡∏¢‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏•‡πà‡∏ô ‚Äî ‡πÉ‡∏´‡πâ‡∏û‡∏±‡∏Å‡∏Å‡πà‡∏≠‡∏ô üò¥');
      return;
    }
    pet.happy = Math.min(100, pet.happy + 16);
    pet.hunger = Math.min(100, pet.hunger + 12);
    pet.energy = Math.max(0, pet.energy - 18);
    animateHappy();
    saveState('‡πÄ‡∏•‡πà‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô: üéæ ‡∏™‡∏ô‡∏∏‡∏Å! ‡πÅ‡∏ï‡πà‡πÄ‡∏™‡∏µ‡∏¢‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô');
    applyState();
  }

  function sleep() {
    pet.energy = Math.min(100, pet.energy + 32);
    pet.hunger = Math.min(100, pet.hunger + 6);
    saveState('‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô: üò¥ +‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô');
    applyState();
  }

  function groom() {
    pet.happy = Math.min(100, pet.happy + 8);
    saveState('‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î: üõÅ +‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç');
    applyState();
  }

  // click pet to pet
  petImg.addEventListener('click', ()=>{
    pet.happy = Math.min(100, pet.happy + 4);
    animateHappy();
    saveState('‡∏•‡∏π‡∏ö‡∏´‡∏±‡∏ß‡∏´‡∏°‡∏≤: +‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢');
    applyState();
  });

  // periodic gentle decay (every 45 seconds)
  setInterval(()=> {
    pet.hunger = Math.min(100, pet.hunger + 0.8);
    pet.energy = Math.max(0, pet.energy - 0.5);
    if (pet.hunger > 80) pet.happy = Math.max(0, pet.happy - 0.5);
    saveState();
    applyState();
  }, 45_000);

  // UI bindings
  document.getElementById('feedBtn').addEventListener('click', feed);
  document.getElementById('playBtn').addEventListener('click', play);
  document.getElementById('sleepBtn').addEventListener('click', sleep);
  document.getElementById('groomBtn').addEventListener('click', groom);

  document.getElementById('renameBtn').addEventListener('click', ()=>{
    const name = petNameInput.value.trim() || 'Doggo';
    pet.name = name;
    saveState('‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡πá‡∏ô: ' + name);
    applyState();
  });

  document.getElementById('resetBtn').addEventListener('click', ()=>{
    if(!confirm('‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏´‡∏°‡∏≤? ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏∞‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô')) return;
    pet = {...DEFAULT, createdAt: Date.now()};
    localStorage.removeItem(KEY);
    saveState('‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô');
    applyState();
  });

  breedSelect.addEventListener('change', ()=>{
    pet.breed = breedSelect.value;
    petImg.src = `images/${pet.breed}.png`;
    saveState('‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏≤‡∏¢‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå‡πÄ‡∏õ‡πá‡∏ô ' + pet.breed);
    applyState();
  });

  themeColor.addEventListener('input', ()=>{
    document.documentElement.style.setProperty('--accent', themeColor.value);
  });

  document.getElementById('shareBtn').addEventListener('click', ()=>{
    const summary = `${pet.name} ‚Ä¢ ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏¥‡∏ß ${Math.round(pet.hunger)} ‚Ä¢ ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç ${Math.round(pet.happy)} ‚Ä¢ ‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô ${Math.round(pet.energy)}`;
    if(navigator.share){
      navigator.share({title: pet.name + ' ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞', text: summary}).catch(()=>alert('‡πÅ‡∏ä‡∏£‡πå‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏ô‡∏µ‡πâ'));
    } else {
      prompt('‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏ä‡∏£‡πå:', summary);
    }
  });

  document.getElementById('exportBtn').addEventListener('click', ()=>{
    const blob = new Blob([JSON.stringify(pet.logs, null, 2)], {type:'application/json'});
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a'); a.href = url; a.download = `${(pet.name||'doggo')}-logs.json`; a.click();
    setTimeout(()=>URL.revokeObjectURL(url),1000);
  });

  // Text-to-Speech read status
  document.getElementById('ttsBtn').addEventListener('click', ()=>{
    const text = `${pet.name} ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç ${Math.round(pet.happy)} ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏¥‡∏ß ${Math.round(pet.hunger)} ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô ‡πÅ‡∏•‡∏∞‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô ${Math.round(pet.energy)} ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô`;
    const u = new SpeechSynthesisUtterance(text);
    u.lang = 'th-TH';
    u.rate = 1.0;
    u.pitch = 1.0
