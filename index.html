<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Doggo Pet Simulator üê∂üíñ</title>
<link href="https://fonts.googleapis.com/css2?family=Kanit:wght@400;600&display=swap" rel="stylesheet">
<style>
  body {
    margin: 0;
    font-family: 'Kanit', sans-serif;
    background: linear-gradient(180deg, #fff7f2, #fff);
    display: flex;
    flex-direction: column;
    height: 100vh;
    overflow: hidden;
  }
  header {
    background: #ff9f6e;
    color: white;
    text-align: center;
    padding: 14px;
    font-size: 22px;
    font-weight: 700;
    box-shadow: 0 2px 6px rgba(0,0,0,0.1);
  }
  .container {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 16px;
    padding: 20px;
  }
  .pet-box {
    background: #fff;
    border-radius: 20px;
    padding: 20px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  .pet-box img {
    width: 240px;
    height: 240px;
    object-fit: contain;
    transition: transform 0.4s;
  }
  .pet-happy {
    transform: scale(1.07);
  }
  .stats {
    margin-top: 10px;
    text-align: center;
  }
  .bar {
    height: 12px;
    width: 200px;
    background: #eee;
    border-radius: 20px;
    margin: 4px auto;
    overflow: hidden;
  }
  .bar span {
    display: block;
    height: 100%;
    background: linear-gradient(90deg, #ff9f6e, #ff7a3c);
  }
  .buttons {
    display: flex;
    gap: 8px;
    margin-top: 14px;
    flex-wrap: wrap;
    justify-content: center;
  }
  button {
    background: #ff814c;
    border: none;
    color: white;
    font-weight: 600;
    border-radius: 20px;
    padding: 10px 16px;
    cursor: pointer;
  }
  button:hover { background: #ff6a26; }
  .log {
    width: 90%;
    max-width: 360px;
    height: 120px;
    overflow-y: auto;
    background: #fff;
    border-radius: 14px;
    border: 1px solid #eee;
    margin-top: 12px;
    padding: 10px;
    font-size: 14px;
  }
</style>
</head>
<body>
  <header>üê∂ Doggo Pet Simulator üíñ</header>

  <div class="container">
    <div class="pet-box">
      <h2 id="petTitle">LOVE üê∂</h2>
      <img id="petImg" src="images/Dog.png" alt="doggo">
      <div class="stats">
        <p id="statusLine">‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏î‡∏µ ‚Ä¢ ‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå‡∏î‡∏µ</p>
        <div>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏¥‡∏ß <div class="bar"><span id="hungerBar" style="width:50%"></span></div></div>
        <div>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç <div class="bar"><span id="happyBar" style="width:60%"></span></div></div>
        <div>‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô <div class="bar"><span id="energyBar" style="width:70%"></span></div></div>
      </div>
      <div class="buttons">
        <button id="feedBtn">üçñ ‡πÉ‡∏´‡πâ‡∏≠‡∏≤‡∏´‡∏≤‡∏£</button>
        <button id="playBtn">üéæ ‡πÄ‡∏•‡πà‡∏ô‡∏î‡πâ‡∏ß‡∏¢</button>
        <button id="sleepBtn">üò¥ ‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô</button>
        <button id="groomBtn">üõÅ ‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î</button>
      </div>
    </div>

    <div class="log" id="logBox">
      <p>üêæ ‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö! ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏´‡∏°‡∏≤‡∏ô‡πâ‡∏≠‡∏¢‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢</p>
    </div>
  </div>

<script>
window.onload = () => {
(() => {
  const KEY = 'doggo_pet_love';
  const DEFAULT = {
    name: "LOVE üê∂",
    hunger: 50,
    happy: 60,
    energy: 70,
    createdAt: Date.now(),
    logs: []
  };

  // DOM
  const petImg = document.getElementById('petImg');
  const hungerBar = document.getElementById('hungerBar');
  const happyBar = document.getElementById('happyBar');
  const energyBar = document.getElementById('energyBar');
  const statusLine = document.getElementById('statusLine');
  const logBox = document.getElementById('logBox');
  const petTitle = document.getElementById('petTitle');

  let pet = JSON.parse(localStorage.getItem(KEY) || 'null') || DEFAULT;
  const dogImage = "images/Dog.png";

  function updateDogImage() {
    petImg.src = dogImage;
    petImg.onerror = () => {
      const svg = encodeURIComponent(`
        <svg xmlns='http://www.w3.org/2000/svg' width='400' height='400'>
          <rect width='100%' height='100%' fill='#fff3ee'/>
          <text x='50%' y='50%' dominant-baseline='middle' text-anchor='middle'
            font-size='24' fill='#ff8a5b'>‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏π‡∏õ‡∏´‡∏°‡∏≤ üíî</text>
        </svg>
      `);
      petImg.src = `data:image/svg+xml;charset=utf-8,${svg}`;
    };
  }

  function addLog(text) {
    const time = new Date().toLocaleTimeString("th-TH",{hour:"2-digit",minute:"2-digit"});
    const p = document.createElement("p");
    p.textContent = `${time} ‚Äî ${text}`;
    logBox.prepend(p);
  }

  function saveState(text) {
    pet.updatedAt = Date.now();
    if (text) addLog(text);
    localStorage.setItem(KEY, JSON.stringify(pet));
  }

  function applyState() {
    hungerBar.style.width = pet.hunger + "%";
    happyBar.style.width = pet.happy + "%";
    energyBar.style.width = pet.energy + "%";
    const mood = pet.happy > 75 ? '‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå‡∏î‡∏µ‡∏°‡∏≤‡∏Å' : (pet.happy > 45 ? '‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå‡∏î‡∏µ' : '‡∏´‡∏á‡∏≠‡∏¢');
    const health = (pet.hunger < 75 && pet.energy > 25) ? '‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏î‡∏µ' : '‡∏ï‡πâ‡∏≠‡∏á‡∏î‡∏π‡πÅ‡∏•';
    statusLine.textContent = `${health} ‚Ä¢ ${mood}`;
    petTitle.textContent = pet.name;
  }

  function animateHappy() {
    petImg.classList.add("pet-happy");
    setTimeout(() => petImg.classList.remove("pet-happy"), 600);
  }

  function feed() {
    pet.hunger = Math.max(0, pet.hunger - 18);
    pet.happy = Math.min(100, pet.happy + 6);
    pet.energy = Math.min(100, pet.energy + 6);
    animateHappy();
    saveState("‡πÉ‡∏´‡πâ‡∏≠‡∏≤‡∏´‡∏≤‡∏£: üçñ ‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏¥‡∏ß ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç");
    applyState();
  }
  function play() {
    if (pet.energy < 12) {
      addLog("‡πÄ‡∏´‡∏ô‡∏∑‡πà‡∏≠‡∏¢‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏•‡πà‡∏ô üò¥");
      return;
    }
    pet.happy = Math.min(100, pet.happy + 16);
    pet.hunger = Math.min(100, pet.hunger + 12);
    pet.energy = Math.max(0, pet.energy - 18);
    animateHappy();
    saveState("‡πÄ‡∏•‡πà‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô: üéæ ‡∏™‡∏ô‡∏∏‡∏Å‡∏°‡∏≤‡∏Å!");
    applyState();
  }
  function sleep() {
    pet.energy = Math.min(100, pet.energy + 32);
    pet.hunger = Math.min(100, pet.hunger + 6);
    saveState("‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô: üò¥ ‡∏ü‡∏∑‡πâ‡∏ô‡∏û‡∏•‡∏±‡∏á");
    applyState();
  }
  function groom() {
    pet.happy = Math.min(100, pet.happy + 8);
    saveState("‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î: üõÅ ‡∏´‡∏≠‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î");
    applyState();
  }

  document.getElementById("feedBtn").addEventListener("click", feed);
  document.getElementById("playBtn").addEventListener("click", play);
  document.getElementById("sleepBtn").addEventListener("click", sleep);
  document.getElementById("groomBtn").addEventListener("click", groom);

  updateDogImage();
  applyState();
})();
};
</script>

</body>
</html>
